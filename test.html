<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>test</title>
</head>
<body>
	<form>
		<label>USERNAME:</label>
		<input type="text" id="user">
		<label >PASSWORD:</label>
		<input type="text" id="pass">
		<button id="x">register</button>
		<button id="y">login</button>
	</form>
	<script>
		function send (e) {
			const user = document.getElementById('user').value
			const pass = document.getElementById('pass').value
			const route = e.target.innerText
			window.fetch(`http://localhost:3000/api/v1/auth/${route}`, {
				method: 'POST',
				body: JSON.stringify({
					username: user,
					password: pass
					}),
				headers: {
					Accept: 'application/json',
					'Content-Type': 'application/json',
				}
			})
			.then(res => console.log(res, 'DONE'))
			.catch(console.error)			
		}
		document.getElementById('x').addEventListener('click', (e) => {
			e.preventDefault()
			send(e)
		})
		document.getElementById('y').addEventListener('click', (e) => {
			e.preventDefault()
			send(e)
		})
	</script>
</body>
</html>